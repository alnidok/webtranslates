<p>Встречайте третью, заключительную часть мини-серии по &quot;грубой физике&quot; на JavaScript! В действительности я добралась до третьей части, не теряя запала только благодаря вашим клёвым комментариям и твитам. Так что спасибо вам!</p>

<p>Во второй части было много математики, поэтому сейчас я хочу немного сменить тактику. Сегодня мы поговорим о том, как можно эмулировать физику упругости для canvas анимаций, и еще я опишу свой процесс написания кода.</p>
<!--more-->

<h4>Вот наиболее часто задаваемые мне вопросы</h4>

<ul>
    <li>Как ты подбираешь идеи и как их реализуешь?</li>
    <li>Должно быть ты гуру математики!</li>
    <li>У меня плохо с математикой, поэтому никогда не смогу делать такие же клевые вещи, как ты</li>
    <li>Что мне почитать, чтобы делать подобные вещи?</li>
</ul>

<h4>Некоторые подробности обо мне</h4>

<ul>
    <li>Я не так хороша в математике, и по-правде я помню ее очень плохо</li>
    <li>Я не знаю заранее, что получится в итоге. 90% времени я просто бездельничаю и при этом происходит какое-то &quot;случайное открытие&quot;</li>
    <li>Я не читала кучу материала, прежде чем начать писать на codepen</li>
</ul>

<h4>Еще немного обо мне</h4>

<ul>
    <li>Я действительно хорошо гуглю и не читаю метериал, пока не найду что-то полезное</li>
    <li>Я не боюсь брать чей-то код и играться с ним</li>
</ul>

<p>Зачем я все это рассказала? Это относится и к тому, как я пришла к результатам данной статьи. До написания этой серии статей я не знала, какой код нужен для упругих анимаций. Поэтому мне нужно было понять все это, прежде чем делиться с вами.</p>

<h2>Шаг 1 - Google</h2>

<p>В процессе поиска по запросу &quot;spring physics javascript&quot; я наткнулась на замечательную статью Бурака Кэнбера (Burak Kanber) <a href="" target="_blank">Physics in Javascript: Car Suspension &ndash; Part 1 (Spring, Mass, Damper)</a>.</p>

<p>Может быть вы из тех людей, кто привык досконально изучать суть явлений. Но я определенно не из таких. Мне нужны лишь минимальные знания, чтобы это получилось реализация. Поэтому, сталкиваясь с подобными статьями, я пропускаю теорию и сразу перехожу к примерам кода.</p>

<h2>Шаг 2. Играемся с чужим кодом</h2>

<p>В конце той статьи есть пример кода на JS fiddle. Я взяла его и скопировала в CodePen, чтобы можно было поиграться. Эта часть очень важна. Думаю, многие останавливаются именно на данном&nbsp;этапе. Глядят на все эти симпатичные вещи и жалеют, что не могут сделать нечто подобное, и при этом даже не делают попыток. Да, раньше я тоже не делала попыток. Возможно все&nbsp;мы боимся того, что где-то накосячим и потом не сможем это исправить, и в результате будем чувствовать себя глупо. Или чего-то типа того. Но нет лучшего способа учиться! И я отвечу вам словами Shia Lebouf: &quot;Просто сделайте это!&quot;</p>

<p><img alt="" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/53148/just-do-it.gif" /></p>

<p>Не допускайте того, чтобы&nbsp;ваши мечты&nbsp;оставались&nbsp;лишь мечтами.</p>

<p>Так, играясь&nbsp;с JavaScript кодом,&nbsp;я выяснила, что все &quot;волшебство упругости&quot;, происходит в этом куске кода.</p>

<pre>
<code class="language-javascript">// this the spring magic in the loop - for example the x property of an object
    // spring &amp; damper from k (stiffness) and b (damping constant)
    var spring_x = k * ( (block.x - target.x));
    var damper_x = b * ( block.vx );
    // update acceleration
    block.ax = ( spring_x + damper_x ) / block.mass;
    // update velocity
    block.vx += block.ax * (t/1000);
    // update position
    block.x += block.vx * (t/1000);</code></pre>

<p>Я не знаю что такое коэффициент затухания, что такое жесткость. Меня это совершенно не волнует! И ведь это работает.</p>

<p>Итак, теперь у нас есть выражение для упругости, и мы можем &quot;пружинить&quot; все что угодно!</p>

<p>&quot;Пружиним&quot; позицию шарика!</p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="300" scrolling="no" src="//codepen.io/anon/embed/wapdEM?slug-hash=wapdEM&amp;default-tab=result&amp;height=300&amp;theme-id=1970&amp;user=anon" width="100%"></iframe></p>

<p>&quot;Пружиним&quot; радиусы шариков!</p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="300" scrolling="no" src="//codepen.io/anon/embed/QbQjYQ?slug-hash=QbQjYQ&amp;default-tab=result&amp;height=300&amp;theme-id=1970&amp;user=anon" width="100%"></iframe></p>

<p>&quot;Пружиним&quot; уровни этих линий (причем это не canvas, а SVG)</p>

<p><iframe allowfullscreen="true" allowtransparency="true" frameborder="0" height="300" scrolling="no" src="//codepen.io/anon/embed/bdLEba?slug-hash=bdLEba&amp;default-tab=result&amp;height=300&amp;theme-id=1970&amp;user=anon" width="100%"></iframe></p>

<p>Видите, как только мы выяснили способ создания упругих&nbsp;движений, уже можем создать множество производных эффектов, основанных на том же самом коде. И ведь я до сих пор даже не знаю, что такое затухание!</p>

<p>Люблю, люблю, люблю получать ваши твиты и комментарии о том, что вы делаете на основе моих статей, поэтому пожалуйста, продолжайте в том же духе!</p>
